<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Globale Produkte – Übersicht</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Loader (3 Sekunden) -->
<div class="loader" id="siteLoader" aria-hidden="false">
  <div class="loader__inner" role="status" aria-label="Website lädt">
    <div class="loader__bar">
      <div class="loader__fill" id="loaderFill"></div>
      <div class="loader__plane" id="loaderPlane" aria-hidden="true">✈️</div>
    </div>
    <div class="loader__label" id="loaderLabel">Lädt… 0%</div>
  </div>
</div>

  <canvas id="bg3d" aria-hidden="true"></canvas>

  <header class="nav">
    <div class="nav__inner">
      <a class="logo" href="index.html" aria-label="Start">
        <span class="logo__mark" aria-hidden="true"></span>
        <span class="logo__text" id="siteTitle">EcoSupply</span>
      </a>
</div>
</header>

  <main class="hero" id="top">
    <div class="hero__inner">
      <div class="pill reveal" id="siteSubtitle">Bio • Nachhaltigkeit • Lieferketten</div>
      <h1 class="reveal" id="siteHeadline">Globale Produkte im Supermarkt</h1>
      <p class="lead reveal">
        Auf dieser Hauptseite siehst du <strong><span data-count="tiles">15</span> Felder</strong> (Früchte/Gemüse). Jedes Feld ist ein kleines Fenster
        und führt zu einer eigenen Detailseite.
      </p>
      <div class="hero__actions reveal">
        <a class="btn btn--solid" href="#felder">Produkte ansehen</a>
        <a class="btn btn--ghost" href="#hinweise">Wie funktioniert’s?</a>
      </div>
    </div>
  </main>

  <section class="section section--tight" id="felder">
    <div class="container">
      <header class="section__head reveal">
        <h2>Produkte (<span data-count="tiles">15</span> Felder)</h2>
        <p>Klicke ein Feld, um die <strong>Detailseite</strong> zu öffnen. Dort kannst du sie im Editor bearbeiten.</p>
      </header>

      <div class="tilegrid reveal" id="tileGrid" aria-label="<span data-count="tiles">15</span> Felder"></div>
    </div>
  </section>

  <section class="section" id="hinweise">
    <div class="container">
      <div class="callout reveal">
        <h2>So nutzt ihr die Website</h2>
        <ul>
          <li>Öffne ein Produkt und klicke unten rechts auf <strong>✎</strong>, um die Seite zu bearbeiten (Passwort: <strong>55</strong>).</li>
          <li>Jede Produktseite hat 4 Abschnitte: Anbau, Arbeitsbedingungen, Transport, Folgen vor Ort.</li>
          <li>Änderungen werden lokal im Browser gespeichert. Für gemeinsame Bearbeitung auf mehreren Geräten braucht man ein Backend.</li>
        </ul>
      </div>
    </div>
  </section>
<script src="data.js"></script>
  <script src="store.js"></script>
  <script src="app-home.js"></script>
<script type="module" src="three-bg.js"></script>
  <script src="loader.js"></script>

<!-- Home Editor FAB -->
<button class="editorfab" id="homeEditorFab" type="button" aria-label="Editor öffnen">✎</button>

<!-- Home Editor Drawer -->
<div class="editordrawer" id="homeEditorDrawer" aria-hidden="true">
  <div class="editordrawer__panel" role="dialog" aria-modal="true" aria-label="Editor">
    <div class="edhdr">
      <div>
        <div class="edhdr__title">Editor</div>
        <div class="edhdr__sub">Hauptseite: Kacheln bearbeiten (Passwort 55)</div>
      </div>
      <button class="edclose" id="homeEditorClose" type="button" aria-label="Schließen">✕</button>
    </div>

    <div class="edbody">
      <div class="edlock" id="homeLockArea">
        <label class="label">Passwort</label>
        <input class="input" id="homePwInput" placeholder="Passwort eingeben" type="password" />
        <div class="row" style="margin-top:10px;">
          <button class="btn btn--solid" id="homeUnlockBtn" type="button">Entsperren</button>
        </div>
        <p class="small muted" style="margin-top:10px;">
          Hinweis: Das Passwort schützt nur vor versehentlichem Bearbeiten. Änderungen werden lokal im Browser gespeichert.
        </p>
      </div>

      <div class="edmain" id="homeEditorArea" hidden>
        <div class="edtabs">
          <button class="edtab is-active" data-tab="tiles" type="button">Felder (Kacheln)</button>
          <button class="edtab" data-tab="site" type="button">Seitentitel</button>
        </div>

        <div class="edpanel" data-panel="tiles">
          <div class="row edrow">
            <div class="muted small">Tipp: Reihenfolge per ↑/↓, Deaktivieren blendet Kachel aus.</div>
            <div class="row" style="gap:8px;">
              <button class="btn btn--ghost" id="homeAddTile" type="button">+ Feld</button>
              <button class="btn btn--ghost" id="homeLockBtn" type="button">Sperren</button>
            </div>
          </div>

          <div class="tileeditor" id="homeTilesWrap"></div>

          <div class="row" style="margin-top:12px; gap:10px;">
            <button class="btn btn--solid" id="homeSaveBtn" type="button">Speichern</button>
            <button class="btn btn--ghost" id="homeResetBtn" type="button">Zurücksetzen (Standard)</button>
          </div>
        </div>

        <div class="edpanel" data-panel="site" hidden>
          <label class="label">Website-Titel</label>
          <input class="input" id="homeSiteTitle" placeholder="Globale Produkte im Supermarkt" />
          <label class="label" style="margin-top:10px;">Untertitel</label>
          <input class="input" id="homeSiteSubtitle" placeholder="Bio • Nachhaltigkeit • Lieferketten" />
          <div class="row" style="margin-top:12px; gap:10px;">
            <button class="btn btn--solid" id="homeSaveSiteBtn" type="button">Speichern</button>
            <button class="btn btn--ghost" id="homeLockBtn2" type="button">Sperren</button>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
  <script src="home-editor.js"></script>
</body>
</html>